class t extends HTMLElement{static#t=null;static#e=document.getElementById("tinyfoot-template");static numeric=!1;static bottom=!1;static{window.addEventListener("click",(()=>{null!=t.#t&&(t.#t.classList.remove("active"),t.#t=null)}))}constructor(){super();const e=this.attachShadow({mode:"open"});e.appendChild(t.#e.content.cloneNode(!0));const o=e.getElementById("tinyfoot-button"),i=e.getElementById("tinyfoot-popup");o.addEventListener("click",this.onClick.bind(this)),t.numeric&&o.classList.add("numeric"),i.addEventListener("click",(t=>t.stopPropagation())),t.bottom&&i.classList.add("buttom")}onClick(e){e.stopPropagation();const o=this.shadowRoot.getElementById("tinyfoot-popup");if(t.#t===o)return t.#t=null,void o.classList.remove("active");if(null!==t.#t&&t.#t.classList.remove("active"),o.classList.add("active"),t.#t=o,o.classList.contains("bottom"))return;for(const t of["left-edge","right-edge","bottom-edge"])o.classList.remove(t);const i=o.getBoundingClientRect();i.left<0?o.classList.add("left-edge"):i.left+i.width>window.innerWidth?o.classList.add("right-edge"):i.y+i.height>window.innerHeight&&o.classList.add("bottom-edge")}}export default function(e){t.numeric=Boolean(e?.numeric),t.bottom=Boolean(e?.bottom),customElements.define("tinyfoot-footnote",t)}
let t=null;const o=document.getElementById("tinyfoot-template");customElements.define("tinyfoot-footnote",class extends HTMLElement{constructor(){super();const t=this.attachShadow({mode:"open"});t.appendChild(o.content.cloneNode(!0)),t.getElementById("tinyfoot-button").addEventListener("click",this.t.bind(this)),t.getElementById("tinyfoot-popup").addEventListener("click",(t=>t.stopPropagation()))}t(o){const e=this.shadowRoot.getElementById("tinyfoot-popup");if(t===e)t=null,e.classList.remove("active");else{null!==t&&t.classList.remove("active"),e.classList.add("active"),t=e;for(const o of["left-edge","right-edge","bottom-edge"])t.classList.remove(o);const o=e.getBoundingClientRect();o.left<0?e.classList.add("left-edge"):o.left+o.width>window.innerWidth?e.classList.add("right-edge"):o.y+o.height>window.innerHeight&&e.classList.add("bottom-edge")}o.stopPropagation()}}),window.addEventListener("click",(()=>{null!=t&&(t.classList.remove("active"),t=null)}));